<!-- client id -->
<!-- 713084426234-ip2il9pv6pqg5ia640q4ppfqv5akne1p.apps.googleusercontent.com  -->

<!-- client secret -->
<!-- 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 --> 

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie-app</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="loader.css">
</head>

<body>
    
    <header>
        <h1 id="p_name">MOVIEPLEX</h1>
        <form action="" id="myform">
            
            <select name="" id="language">
                <option value="en" selected>English</option>
                <option value="es">Spanish</option>
                <!-- <option value="">Hindi</option>
                <option value="es">Spanish</option> -->

            </select>

            <input type="search" placeholder="SEARCH" id="search" >
        </form>
        <div class="userdetails">

            <img src="" id="userimg" alt="" class="userimage">
            <span><h3 id="username"></h3></span>
            <button  id="signoutbtn" class="btn"  > Signout</button>
        </div>
    </header>
    <hr>

    <!-- <div id="modal"> 
        <div class="modal_main">
            <div class="left">
                <img src="" alt="">
            </div>
            <div class="right">
                <div class="info2">
                    <h3>movie name</h3>
                    <h3>6.8</h3>
                </div>
                <div class="desc">
                    Lorem ipsum, dolor sit amet consectetur adipisicing elit. Laboriosam, veritatis! Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore, eligendi!
                </div>
            </div>
        </div>
    </div> -->


    <div class="error"></div>
    <div id="loader">
        <div class="loader-5 "></div>
    </div>  
    <div class="pagination">
        <button class="btn prevbtn">Prev</button>
        <h3 id="currentpage"></h3>
        <button class="btn nextbtn">Next</button>
    </div>  
    <main id="main"> </main>


    <script src="script.js"></script>
</body>


<script type="module">
    
    
    window.addEventListener('load',function(){
        let USERNAME = localStorage.username;
        let USERIMG = localStorage.photo;
        let LOGGEDIN = localStorage.loggedin;
        console.log(typeof(LOGGEDIN));
        if(LOGGEDIN.length > 0 && LOGGEDIN != '1'){
            location.href="index.html";
        }

        if(USERIMG.length > 0){
            userimg.setAttribute("src",USERIMG);
        }
        if(USERNAME.length > 0){
            username.innerHTML=USERNAME;
        }
        // userimg.classList.add("userimage")

        
    })
    
    
    
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js";
    import { getAuth, signOut  } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-auth.js";


    const firebaseConfig = {
        apiKey: "AIzaSyDta9p8cSYHvU49Qr3rKrkEcbQpd8IpDWs",
        authDomain: "test-authentication-5737b.firebaseapp.com",
        projectId: "test-authentication-5737b",
        storageBucket: "test-authentication-5737b.appspot.com",
        messagingSenderId: "984585092320",
        appId: "1:984585092320:web:6794e7c82cf05d3727e485",
        measurementId: "G-PZLFHCHW94"
    };


    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);


    signoutbtn.addEventListener('click', (e) => {
        
        
        signOut(auth).then(() => {
                
                localStorage.setItem("username",'');
                localStorage.setItem("photo",'');
                localStorage.setItem("loggedin",0);

                location.href="index.html";

        }).catch((error) => {
                alert("An error happened.");
            });

    })


    
</script>

</html>




